"use strict";(self.webpackChunkflex_bot_app=self.webpackChunkflex_bot_app||[]).push([[535],{7088:(Ie,S,s)=>{s.r(S),s.d(S,{PagesModule:()=>we});var i=s(6223),u=s(6814),h=s(3403),e=s(5879),U=s(9809),_=s(2296),C=s(617),x=s(9038),M=s(2651),B=s(1274);function D(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e._uU(3),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.hij(" ",t.label," ")}}function $(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list-item",8),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2);return e.KtG(a.toggle())}),e.YNc(1,D,4,2,"ng-container",9),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();let a;e.Q6J("routerLink",t.url),e.xp6(1),e.Q6J("ngIf","Admin"!==t.label||"Admin"===t.label&&"ADMIN"===(null==(a=o.user())?null:a.type))}}const E=function(){return{width:"250px"}};let R=(()=>{class n{constructor(t,o){this.authService=t,this.router=o,this.sidebarItems=[{label:"Board",icon:"dashboard",url:"./board"},{label:"Controller",icon:"view_list",url:"./controller"},{label:"Admin",icon:"settings",url:"./admin"}],this.user=(0,e.Flj)(()=>this.authService.currentUser())}onLogout(){this.authService.logout(),this.router.navigate(["/auth/login"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.J),e.Y36(h.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout-page"]],decls:24,vars:4,consts:[["fullscreen",""],["mode","push",3,"ngStyle"],["sidenav",""],["color","primary"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],[1,"container","p-2"],[3,"routerLink","click"],[4,"ngIf"],["matListItemIcon",""]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3)(4,"span"),e._uU(5,"Men\xfa"),e.qZA(),e._UZ(6,"span",4),e.TgZ(7,"button",5),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(2);return e.KtG(c.toggle())}),e.TgZ(8,"mat-icon"),e._uU(9,"menu"),e.qZA()()(),e.TgZ(10,"mat-nav-list"),e.YNc(11,$,2,2,"mat-list-item",6),e.qZA()(),e.TgZ(12,"mat-toolbar",3)(13,"button",5),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(2);return e.KtG(c.toggle())}),e.TgZ(14,"mat-icon"),e._uU(15,"menu"),e.qZA()(),e._UZ(16,"span",4),e.TgZ(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"button",5),e.NdJ("click",function(){return o.onLogout()}),e.TgZ(20,"mat-icon"),e._uU(21,"logout"),e.qZA()()(),e.TgZ(22,"div",7),e._UZ(23,"router-outlet"),e.qZA()()}if(2&t){let a;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,E)),e.xp6(10),e.Q6J("ngForOf",o.sidebarItems),e.xp6(7),e.Oqu(null==(a=o.user())?null:a.email)}},dependencies:[u.sg,u.O5,u.PC,h.lC,h.rH,_.RK,C.Hw,x.Hk,x.Tg,x.Yt,M.JX,M.TM,B.Ye],encapsulation:2}),n})();var p=s(9862),y=s(9413),f=s(6306),O=s(2096),Y=s(7398);let k=(()=>{class n{constructor(t){this.http=t,this.baseUrl=y.T.baseUrl}getUsers(){const t=`${this.baseUrl}/users`,o=localStorage.getItem("token"),a=(new p.WM).set("x-token",`${o}`);return this.http.get(t,{headers:a})}getUsersById(t){const o=`${this.baseUrl}/users/${t}`,a=localStorage.getItem("token"),l=(new p.WM).set("x-token",`${a}`);return this.http.get(o,{headers:l}).pipe((0,f.K)(c=>(0,O.of)(void 0)))}addUser(t){const o=`${this.baseUrl}/users`,a=localStorage.getItem("token"),l=(new p.WM).set("x-token",`${a}`);return this.http.post(o,t,{headers:l})}updateUser(t){const o=`${this.baseUrl}/users/${t._id}`,a=localStorage.getItem("token"),l=(new p.WM).set("x-token",`${a}`);if(!t._id)throw Error("User id is required");return this.http.patch(o,t,{headers:l})}deleteUserById(t){const o=`${this.baseUrl}/users/${t}`,a=localStorage.getItem("token"),l=(new p.WM).set("x-token",`${a}`);return this.http.delete(o,{headers:l}).pipe((0,f.K)(c=>(0,O.of)(!1)),(0,Y.U)(c=>!0))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=s(6385),Z=s(2939),m=s(5195),v=s(9157),P=s(2032);function Q(n,r){if(1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.user.fullname)}}let F=(()=>{class n{constructor(t,o){this.userServices=t,this.snackbar=o,this.closeModal=new e.vpe,this.userForm=new i.cw({_id:new i.NI(""),fullname:new i.NI("",{nonNullable:!0}),email:new i.NI("",{nonNullable:!0}),password:new i.NI("",{nonNullable:!0}),comment:new i.NI("",{nonNullable:!0}),telefono:new i.NI("",{nonNullable:!0}),active:new i.NI(!0),type:new i.NI("USER")})}get currentUser(){return this.userForm.value}ngOnInit(){this.user&&this.userForm.reset(this.user)}onSubmit(){if(!this.userForm.invalid){if(this.currentUser._id)return void this.userServices.updateUser(this.currentUser).pipe((0,f.K)(t=>(this.onCloseModal(),this.showSnackBar(t.error.msg),[]))).subscribe(t=>{this.showSnackBar(`${t.fullname} update!`),this.onCloseModal()});this.userServices.addUser(this.currentUser).pipe((0,f.K)(t=>(this.onCloseModal(),this.showSnackBar(t.error.msg),[]))).subscribe(t=>{this.onCloseModal(),this.showSnackBar(`${t.fullname} created!`)})}}onCloseModal(){this.closeModal.emit()}showSnackBar(t){this.snackbar.open(t,"done",{duration:2500})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k),e.Y36(Z.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-right-modal"]],inputs:{user:"user"},outputs:{closeModal:"closeModal"},decls:41,vars:3,consts:[[1,"modal-container"],[1,"modal-content"],[4,"ngIf"],[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-12"],[1,"grid",3,"formGroup","ngSubmit"],[1,"col-12"],["matInput","","type","text","required","","formControlName","fullname"],["matInput","","type","mail","required","","formControlName","email"],["matInput","","type","password","required","","formControlName","password"],["matInput","","type","string","required","","formControlName","telefono"],["matInput","","placeholder","Pegar aqui la URL","formControlName","comment","required",""],["href","https://www.amazon.com/ap/signin?ie=UTF8&clientContext=134-9172090-0857541&openid.pape.max_auth_age=0&use_global_authentication=false&accountStatusPolicy=P1&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&use_audio_captcha=false&language=en_US&pageId=amzn_device_na&arb=97b4a0fe-13b8-45fd-b405-ae94b0fec45b&openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fap%2Fmaplanding&openid.assoc_handle=amzn_device_na&openid.oa2.response_type=token&openid.mode=checkid_setup&openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&openid.ns.oa2=http%3A%2F%2Fwww.amazon.com%2Fap%2Fext%2Foauth%2F2&openid.oa2.scope=device_auth_access&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&disableLoginPrepopulate=0&openid.oa2.client_id=device%3A32663430323338643639356262653236326265346136356131376439616135392341314d50534c4643374c3541464B","rel","noopener noreferrer","target","_blank"],["mat-flat-button","","color","warn",3,"click"],[1,"spacer"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3),e.YNc(4,Q,2,1,"small",2),e.qZA(),e._UZ(5,"mat-divider",3),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-card")(9,"mat-card-content")(10,"form",6),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Full Name"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Email"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Contrase\xf1a"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Telefono"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Url de homologaci\xf3n"),e.qZA(),e._UZ(30,"textarea",12),e.qZA(),e.TgZ(31,"a",13),e._uU(32,"Para obtener la URL"),e.qZA()()(),e.TgZ(33,"mat-card-actions")(34,"button",14),e.NdJ("click",function(){return o.onCloseModal()}),e._uU(35,"BACK"),e.qZA(),e._UZ(36,"span",15),e.TgZ(37,"button",16),e.NdJ("click",function(){return o.onSubmit()}),e.TgZ(38,"mat-icon"),e._uU(39,"save"),e.qZA(),e._uU(40," SAVE "),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",o.user?"Editar":"Agregar"," Usuario "),e.xp6(1),e.Q6J("ngIf",o.user),e.xp6(6),e.Q6J("formGroup",o.userForm))},dependencies:[u.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,_.lW,m.a8,m.hq,m.dn,v.KE,v.hX,C.Hw,P.Nt,b.d],encapsulation:2}),n})();function H(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-right-modal",4),e.NdJ("closeModal",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeModal())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("user",t.user)}}const j=function(n){return{color:n}};let z=(()=>{class n{constructor(t,o){this.userServices=t,this.snackbar=o,this.isModalOpen=!1,this.updateList=new e.vpe}ngOnInit(){if(!this.user)throw Error("User property is required")}handleChangeState(t){const o={...t,active:!t.active};this.userServices.updateUser(o).subscribe(a=>{this.showSnackBar(`${t.fullname} update!`)}),this.updateList.emit()}handleEdit(t){this.isModalOpen=!0}handleDelete(t){this.userServices.deleteUserById(t._id).subscribe(o=>{this.showSnackBar(o?`Usuario ${t.fullname} Eliminado!`:"Error al intentar eliminar el usuario!")}),this.updateList.emit()}closeModal(){this.isModalOpen=!1,this.updateList.emit()}showSnackBar(t){this.snackbar.open(t,"done",{duration:2500})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k),e.Y36(Z.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["users-user-card"]],inputs:{user:"user"},outputs:{updateList:"updateList"},decls:24,vars:8,consts:[["align","end"],["mat-button","","mat-raised","",3,"click"],["mat-button","","mat-raised","",3,"ngStyle","click"],[3,"user","closeModal",4,"ngIf"],[3,"user","closeModal"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle")(5,"b"),e._uU(6,"Email:"),e.qZA(),e._uU(7),e._UZ(8,"br"),e.TgZ(9,"b"),e._uU(10,"Telefono:"),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"mat-card-actions",0)(13,"button",1),e.NdJ("click",function(){return o.handleEdit(o.user)}),e.TgZ(14,"mat-icon"),e._uU(15,"edit"),e.qZA(),e._uU(16,"Editar "),e.qZA(),e.TgZ(17,"button",2),e.NdJ("click",function(){return o.handleChangeState(o.user)}),e._uU(18),e.qZA(),e.TgZ(19,"button",1),e.NdJ("click",function(){return o.handleDelete(o.user)}),e.TgZ(20,"mat-icon"),e._uU(21,"delete"),e.qZA(),e._uU(22,"Delete "),e.qZA()()(),e.YNc(23,H,1,1,"app-right-modal",3)),2&t&&(e.xp6(3),e.hij(" ",o.user.fullname," "),e.xp6(4),e.hij(" ",o.user.email,""),e.xp6(4),e.hij(" ",o.user.telefono,""),e.xp6(6),e.Q6J("ngStyle",e.VKq(6,j,o.user.active?"green":"red")),e.xp6(1),e.hij(" ",o.user.active?"Disabled":"Enabled"," "),e.xp6(5),e.Q6J("ngIf",o.isModalOpen))},dependencies:[u.O5,u.PC,_.lW,m.a8,m.hq,m.dk,m.$j,m.n5,C.Hw,F],encapsulation:2}),n})();function K(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"users-user-card",7),e.NdJ("updateList",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getUsers())}),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("user",t)}}function W(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-right-modal",8),e.NdJ("closeModal",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeModal())}),e.qZA()}}let X=(()=>{class n{constructor(t){this.userServices=t,this.isModalOpen=!1,this.users=[]}ngOnInit(){this.getUsers()}getUsers(){this.userServices.getUsers().subscribe(t=>this.users=t)}handleAdd(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.getUsers()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-page"]],decls:10,vars:2,consts:[[1,"container","flex"],[1,"spacer"],["mat-button","","mat-raised","",3,"click"],[1,"grid","mb-8","pt-2"],["class","col-12 sm:col-12 md:col-12 xl:col-12",4,"ngFor","ngForOf"],[3,"closeModal",4,"ngIf"],[1,"col-12","sm:col-12","md:col-12","xl:col-12"],[3,"user","updateList"],[3,"closeModal"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"User list"),e.qZA(),e._UZ(3,"span",1),e.TgZ(4,"button",2),e.NdJ("click",function(){return o.handleAdd()}),e._uU(5,"add"),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"div",3),e.YNc(8,K,2,1,"div",4),e.qZA(),e.YNc(9,W,1,0,"app-right-modal",5)),2&t&&(e.xp6(8),e.Q6J("ngForOf",o.users),e.xp6(1),e.Q6J("ngIf",o.isModalOpen))},dependencies:[u.sg,u.O5,_.lW,b.d,z,F],encapsulation:2}),n})();var G=s(6321),V=s(4825);function w(n=0,r=G.z){return n<0&&(n=0),(0,V.H)(n,n,r)}var N=s(8504),ee=s(6328),te=s(8645),I=s(9773),ne=s(1631),oe=s(4716);let T=(()=>{class n{constructor(t,o){this.http=t,this.AuthServices=o,this.unsubscribe$=new te.x,this.baseUrl=y.T.baseUrl,this.llamadasEnProgreso=!1,this.user=(0,e.Flj)(()=>this.AuthServices.currentUser())}getServiceAll(){const t=`${this.baseUrl}/fish/getAllServiceAreas`,o=localStorage.getItem("token"),a=(new p.WM).set("x-token",`${o}`);return this.http.get(t,{headers:a})}getOffersAll(){const t=`${this.baseUrl}/fish/getAllOffers`,o=localStorage.getItem("token"),a=(new p.WM).set("x-token",`${o}`);return this.http.get(t,{headers:a})}realizarLlamadasHastaResultadoDeseado(t){return this.llamadasEnProgreso&&this.detenerLlamadasRepetidas(),this.llamadasEnProgreso=!0,w(2e3).pipe((0,I.R)(this.unsubscribe$),(0,ne.z)(()=>this.getOffersWithFilters(t))).pipe((0,I.R)(this.unsubscribe$),(0,oe.x)(()=>{this.llamadasEnProgreso=!1,this.unsubscribe$.next(),this.unsubscribe$.complete()}))}getOffersWithFilters(t){const o=`${this.baseUrl}/fish/processOffer`,a=localStorage.getItem("token"),l={minBlockRate:"BLOCK"===t.baseOn?t.minHourPrice:null,minPayRatePerHour:"HOURS"===t.baseOn?t.minHourPrice:null,arrivalBuffer:t.delay,desiredWareHouses:t.depositos||[],startDate:t.startDate,startRunningAt:t.startRunningAt,maxHoursBlock:t.maxHoursBlock,fromTime:t.fromTime},c=(new p.WM).set("x-token",`${a}`);return this.http.post(o,l,{headers:c}).pipe((0,f.K)(d=>(console.error("Error en la solicitud HTTP:",d),(0,N._)(d))))}detenerLlamadasRepetidas(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.llamadasEnProgreso=!1}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN),e.LFG(U.J))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function re(n,r){1&n&&e.Hsn(0,0,["*ngIf","appearance  === 'custom-content'"])}const ae=function(n,r,t,o,a){return{"custom-content":n,circle:r,progress:t,"progress-dark":o,pulse:a}};function se(n,r){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,re,1,0,"ng-content",2),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.qbA(5,ae,"custom-content"===t.appearance,"circle"===t.appearance,"progress"===t.animation,"progress-dark"===t.animation,"pulse"===t.animation))("ngStyle",t.theme),e.uIk("aria-label",t.ariaLabel)("aria-valuetext",t.loadingText),e.xp6(1),e.Q6J("ngIf","custom-content"===t.appearance)}}const ie=["*"],L=new e.OlP("ngx-skeleton-loader.config");let le=(()=>{class n{constructor(t){this.config=t;const{appearance:o="line",animation:a="progress",theme:l=null,loadingText:c="Loading...",count:d=1,ariaLabel:g="loading"}=t||{};this.appearance=o,this.animation=a,this.theme=l,this.loadingText=c,this.count=d,this.items=[],this.ariaLabel=g}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,e.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,e.X6Q)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const t=["progress","progress-dark","pulse","false"];-1===t.indexOf(String(this.animation))&&((0,e.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${t.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,e.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:o}=this.config||{};o&&o.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(t){["count","animation","appearance"].find(o=>t[o]&&(t[o].isFirstChange()||t[o].previousValue===t[o].currentValue))||this.validateInputValues()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[e.TTD],ngContentSelectors:ie,decls:1,vars:1,consts:[["class","skeleton-loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"],[4,"ngIf"]],template:function(t,o){1&t&&(e.F$t(),e.YNc(0,se,2,11,"div",0)),2&t&&e.Q6J("ngForOf",o.items)},dependencies:[u.mk,u.sg,u.O5,u.PC],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:rgb(239,241,246) no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0))}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),n})(),ce=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:L,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-empty-state"]],decls:6,vars:0,consts:[[1,"empty-state"],["src","assets/empty-state-image.png","alt","Empty State Image"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2"),e._uU(3,"No hay elementos disponibles"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"La lista est\xe1 vac\xeda en este momento."),e.qZA()())},styles:[".empty-state[_ngcontent-%COMP%]{text-align:center;padding:20px}.empty-state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}"]}),n})();function q(n,r,t,o,a,l,c){try{var d=n[l](c),g=d.value}catch(Ne){return void t(Ne)}d.done?r(g):Promise.resolve(g).then(o,a)}let de=(()=>{class n{transform(t){const o=new Date(1e3*t);return`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"time",type:n,pure:!0}),n})(),pe=(()=>{class n{transform(t,o){const a=new Date(1e3*t),c=(new Date(1e3*o).getTime()-a.getTime())/6e4;return`${Math.floor(c/60)}h ${c%60}min`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"timeDifference",type:n,pure:!0}),n})(),ge=(()=>{class n{transform(t){const a=new Date(1e3*t);return`${["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][a.getDay()]}, ${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"customDate",type:n,pure:!0}),n})();function fe(n,r){if(1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-header",1)(2,"mat-card-title")(3,"p"),e._uU(4),e.qZA(),e._UZ(5,"mat-divider"),e.qZA(),e.TgZ(6,"mat-card-subtitle")(7,"p"),e._uU(8),e.ALo(9,"time"),e.ALo(10,"time"),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"timeDifference"),e.qZA(),e.TgZ(14,"p",2),e._uU(15),e.ALo(16,"customDate"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(null==t.warehouse?null:t.warehouse.serviceAreaName),e.xp6(4),e.AsE("",e.lcZ(9,5,t.offerObject.startTime)," - ",e.lcZ(10,7,t.offerObject.endTime),""),e.xp6(4),e.Oqu(e.xi3(13,9,t.offerObject.startTime,t.offerObject.endTime)),e.xp6(3),e.hij("Fecha: ",e.lcZ(16,12,t.offerObject.startTime),"")}}let he=(()=>{class n{constructor(t){this.flexServices=t,this.loading=!0}ngOnInit(){var t=this;return function me(n){return function(){var r=this,t=arguments;return new Promise(function(o,a){var l=n.apply(r,t);function c(g){q(l,o,a,c,d,"next",g)}function d(g){q(l,o,a,c,d,"throw",g)}c(void 0)})}}(function*(){yield t.getService()})()}getService(){this.flexServices.getServiceAll().subscribe(t=>{this.warehouse=t.find(o=>o.serviceAreaId===this.offerObject.serviceAreaId)||null,this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["block-card"]],inputs:{offerObject:"offerObject"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"full-width-header"],[1,"text-right"]],template:function(t,o){1&t&&e.YNc(0,fe,17,14,"mat-card",0),2&t&&e.Q6J("ngIf",!o.loading)},dependencies:[u.O5,m.a8,m.dk,m.$j,m.n5,b.d,de,pe,ge],styles:[".mat-mdc-card-header-text[_ngcontent-%COMP%]{width:100%}.text-right[_ngcontent-%COMP%]{text-align:right}.full-width-header[_ngcontent-%COMP%]{width:94%}.mat-mdc-card-header[_ngcontent-%COMP%]{display:block}mat-card-subtitle[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();const _e=function(){return{"margin-top":"15px",height:"100px"}};function be(n,r){1&n&&(e.ynx(0),e._UZ(1,"ngx-skeleton-loader",3),e.BQk()),2&n&&(e.xp6(1),e.Q6J("theme",e.DdM(1,_e)))}function ve(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-empty-state"),e.qZA())}function Ce(n,r){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"block-card",9),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("offerObject",t)}}function Ze(n,r){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,Ce,2,1,"div",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.offersList)}}function xe(n,r){if(1&n&&(e.YNc(0,ve,2,0,"div",4),e.YNc(1,Ze,2,1,"div",5)),2&n){const t=e.oxw();e.Q6J("ngIf",0===t.offersList.length),e.xp6(1),e.Q6J("ngIf",0!==t.offersList.length)}}let ke=(()=>{class n{constructor(t,o){this.flexServices=t,this.snackbar=o,this.offersList=[],this.loading=!0,this.offerIdsSet=new Set}ngOnInit(){this.intervalSubscription=w(3e3).pipe((0,ee.b)(()=>this.flexServices.getOffersAll().pipe((0,f.K)(t=>(this.loading=!1,this.showSnackBar(t.error.error),(0,N._)("Hubo un error al obtener ofertas")))))).subscribe(t=>{t.forEach(o=>{this.offerIdsSet.has(o.offerId)||(this.offerIdsSet.add(o.offerId),this.offersList.push(o)),this.loading=!1})})}showSnackBar(t){this.snackbar.open(t,"done",{duration:2500})}ngOnDestroy(){this.intervalSubscription&&this.intervalSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T),e.Y36(Z.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-board-page"]],decls:7,vars:2,consts:[[1,"container","flex"],[4,"ngIf","ngIfElse"],["content",""],["count","5",3,"theme"],[4,"ngIf"],["class","grid mb-8 pt-2",4,"ngIf"],[1,"grid","mb-8","pt-2"],["class","col-12 sm:col-12 md:col-12 xl:col-12",4,"ngFor","ngForOf"],[1,"col-12","sm:col-12","md:col-12","xl:col-12"],[3,"offerObject"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Board block"),e.qZA()(),e._UZ(3,"mat-divider"),e.YNc(4,be,2,2,"ng-container",1),e.YNc(5,xe,2,2,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(6);e.xp6(4),e.Q6J("ngIf",o.loading)("ngIfElse",a)}},dependencies:[u.sg,u.O5,b.d,le,ue,he],styles:[".progress[_ngcontent-%COMP%]{height:100px!important;margin-top:10px!important}"]}),n})();var J=function(n){return n.HOURS="HOURS",n.BLOCK="BLOCK",n}(J||{}),Ae=s(3680),Se=s(8525),A=s(8034);function Ue(n,r){if(1&n&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function Me(n,r){if(1&n&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.serviceAreaId),e.xp6(1),e.hij(" ",t.serviceAreaName," ")}}const ye=[{path:"",component:R,children:[{path:"admin",component:X},{path:"board",component:ke},{path:"controller",component:(()=>{class n{constructor(t,o){this.flexServices=t,this.snackbar=o,this.filterForm=new i.cw({minHourPrice:new i.NI(0),baseOn:new i.NI(J.HOURS),startDate:new i.NI(new Date),fromTime:new i.NI(""),maxHoursBlock:new i.NI(0),delay:new i.NI(0),startRunningAt:new i.NI(""),depositos:new i.NI([])}),this.warehouses=[],this.baseOn=[{id:"HOURS",desc:"Hour"},{id:"BLOCK",desc:"Block"}]}get currentFilter(){return this.filterForm.value}ngOnInit(){this.getService(),this.flexServices.llamadasEnProgreso&&this.showSnackBar("You already have a search in progress, if you configure a new one the previous one is deleted!")}getService(){this.flexServices.getServiceAll().pipe((0,f.K)(t=>(this.showSnackBar(t.error.error),[]))).subscribe(t=>this.warehouses=t)}showSnackBar(t){this.snackbar.open(t,"done",{duration:15e3})}onSubmit(){this.flexServices.realizarLlamadasHastaResultadoDeseado(this.currentFilter).subscribe(()=>console.log(),t=>this.showSnackBar("You already have a search in progress, if you configure a new one the previous one is deleted!"))}resetForm(){this.filterForm.reset(),this.flexServices.detenerLlamadasRepetidas()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T),e.Y36(Z.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-controller-page"]],decls:51,vars:6,consts:[[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-12"],[1,"grid",3,"formGroup","ngSubmit"],[1,"col-6"],["matInput","","type","text","required","","formControlName","minHourPrice"],["formControlName","baseOn"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","time","required","","formControlName","fromTime"],["matInput","","type","string","required","","formControlName","maxHoursBlock"],["matInput","","type","string","required","","formControlName","delay"],["matInput","","type","time","required","","formControlName","startRunningAt"],["formControlName","depositos","multiple",""],["mat-flat-button","","color","warn",3,"click"],[1,"spacer"],["mat-flat-button","","color","primary",3,"click"],[3,"value"]],template:function(t,o){if(1&t&&(e._UZ(0,"mat-divider",0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-content")(5,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(6,"mat-form-field",4)(7,"mat-label"),e._uU(8,"Min hour price"),e.qZA(),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"mat-form-field",4)(11,"mat-label"),e._uU(12,"Base on"),e.qZA(),e.TgZ(13,"mat-select",6),e.YNc(14,Ue,2,2,"mat-option",7),e.qZA()(),e.TgZ(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"Start date"),e.qZA(),e._UZ(18,"input",9)(19,"mat-datepicker-toggle",10)(20,"mat-datepicker",null,11),e.qZA(),e.TgZ(22,"mat-form-field",4)(23,"mat-label"),e._uU(24,"From time"),e.qZA(),e._UZ(25,"input",12),e.qZA(),e.TgZ(26,"mat-form-field",4)(27,"mat-label"),e._uU(28,"Max hours block"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"mat-form-field",4)(31,"mat-label"),e._uU(32,"Delay (Min)"),e.qZA(),e._UZ(33,"input",14),e.qZA(),e.TgZ(34,"mat-form-field",4)(35,"mat-label"),e._uU(36,"Start running at"),e.qZA(),e._UZ(37,"input",15),e.qZA(),e.TgZ(38,"mat-form-field",8)(39,"mat-label"),e._uU(40,"Deposits:"),e.qZA(),e.TgZ(41,"mat-select",16),e.YNc(42,Me,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(43,"mat-card-actions")(44,"button",17),e.NdJ("click",function(){return o.resetForm()}),e._uU(45,"CANCEL"),e.qZA(),e._UZ(46,"span",18),e.TgZ(47,"button",19),e.NdJ("click",function(){return o.onSubmit()}),e.TgZ(48,"mat-icon"),e._uU(49,"save"),e.qZA(),e._uU(50," START "),e.qZA()()()()()),2&t){const a=e.MAs(21);e.xp6(5),e.Q6J("formGroup",o.filterForm),e.xp6(9),e.Q6J("ngForOf",o.baseOn),e.xp6(4),e.Q6J("matDatepicker",a)("formControlName","startDate"),e.xp6(1),e.Q6J("for",a),e.xp6(23),e.Q6J("ngForOf",o.warehouses)}},dependencies:[u.sg,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,Ae.ey,_.lW,m.a8,m.hq,m.dn,v.KE,v.hX,v.R9,C.Hw,P.Nt,b.d,Se.gD,A.Mq,A.hl,A.nW],encapsulation:2}),n})()},{path:"**",redirectTo:"board"}]}];let Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(ye),h.Bz]}),n})();var Pe=s(2088),Fe=s(6208);let we=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,i.UX,Oe,Pe.q,ce,Fe.m]}),n})()}}]);
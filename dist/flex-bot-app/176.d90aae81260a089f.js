"use strict";(self.webpackChunkflex_bot_app=self.webpackChunkflex_bot_app||[]).push([[176],{4176:(be,x,i)=>{i.r(x),i.d(x,{PagesModule:()=>_e});var s=i(6223),u=i(6814),g=i(3403),e=i(5879),T=i(9809),m=i(9862),A=i(9413);let U=(()=>{class n{constructor(t,o){this.http=t,this.AuthServices=o,this.baseUrl=A.T.baseUrl,this.user=(0,e.Flj)(()=>this.AuthServices.currentUser())}getServiceAll(){const t=`${this.baseUrl}/fish/getAllServiceAreas`,o=localStorage.getItem("token"),r=(new m.WM).set("x-token",`${o}`);return this.http.get(t,{headers:r})}getOffersAll(){const t=`${this.baseUrl}/fish/getAllOffers`,o=localStorage.getItem("token"),r=(new m.WM).set("x-token",`${o}`);return this.http.get(t,{headers:r})}getOffersWithFilters(t){const o=`${this.baseUrl}/fish/processOffer`,r=localStorage.getItem("token"),a={minBlockRate:"BLOCK"===t.baseOn?t.minHourPrice:null,minPayRatePerHour:"HOURS"===t.baseOn?t.minHourPrice:null,arrivalBuffer:t.delay,desiredWareHouses:t.depositos||[],startDate:t.startDate,startRunningAt:t.startRunningAt,maxHoursBlock:t.maxHoursBlock,fromTime:t.fromTime},c=(new m.WM).set("x-token",`${r}`);return this.http.post(o,a,{headers:c})}getStopSearchOffers(){const t=`${this.baseUrl}/fish/stopProcess`,o=localStorage.getItem("token"),r=(new m.WM).set("x-token",`${o}`);return this.http.get(t,{headers:r})}getOffersList(){const t=`${this.baseUrl}/fish/getOffersList`,o=localStorage.getItem("token"),r=(new m.WM).set("x-token",`${o}`);return this.http.get(t,{headers:r})}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(m.eN),e.LFG(T.J))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var h=i(2296),b=i(617),v=i(9038),M=i(2651),I=i(1274);function P(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e._uU(3),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.hij(" ",t.label," ")}}function L(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list-item",8),e.NdJ("click",function(){e.CHM(t),e.oxw();const r=e.MAs(2);return e.KtG(r.toggle())}),e.YNc(1,P,4,2,"ng-container",9),e.qZA()}if(2&n){const t=l.$implicit,o=e.oxw();let r;e.Q6J("routerLink",t.url),e.xp6(1),e.Q6J("ngIf","Admin"!==t.label||"Admin"===t.label&&"ADMIN"===(null==(r=o.user())?null:r.type))}}const q=function(){return{width:"250px"}};let J=(()=>{class n{constructor(t,o,r){this.authService=t,this.flexService=o,this.router=r,this.sidebarItems=[{label:"Controller",icon:"view_list",url:"./controller"},{label:"Admin",icon:"settings",url:"./admin"}],this.user=(0,e.Flj)(()=>this.authService.currentUser())}onLogout(){this.authService.logout(),this.flexService.getStopSearchOffers(),this.router.navigate(["/auth/login"])}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(T.J),e.Y36(U),e.Y36(g.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout-page"]],decls:24,vars:4,consts:[["fullscreen",""],["mode","push",3,"ngStyle"],["sidenav",""],["color","primary"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],[1,"container","p-2"],[3,"routerLink","click"],[4,"ngIf"],["matListItemIcon",""]],template:function(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3)(4,"span"),e._uU(5,"Men\xfa"),e.qZA(),e._UZ(6,"span",4),e.TgZ(7,"button",5),e.NdJ("click",function(){e.CHM(a);const p=e.MAs(2);return e.KtG(p.toggle())}),e.TgZ(8,"mat-icon"),e._uU(9,"menu"),e.qZA()()(),e.TgZ(10,"mat-nav-list"),e.YNc(11,L,2,2,"mat-list-item",6),e.qZA()(),e.TgZ(12,"mat-toolbar",3)(13,"button",5),e.NdJ("click",function(){e.CHM(a);const p=e.MAs(2);return e.KtG(p.toggle())}),e.TgZ(14,"mat-icon"),e._uU(15,"menu"),e.qZA()(),e._UZ(16,"span",4),e.TgZ(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"button",5),e.NdJ("click",function(){return r.onLogout()}),e.TgZ(20,"mat-icon"),e._uU(21,"logout"),e.qZA()()(),e.TgZ(22,"div",7),e._UZ(23,"router-outlet"),e.qZA()()}if(2&o){let a;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,q)),e.xp6(10),e.Q6J("ngForOf",r.sidebarItems),e.xp6(7),e.Oqu(null==(a=r.user())?null:a.email)}},dependencies:[u.sg,u.O5,u.PC,g.lC,g.rH,h.RK,b.Hw,v.Hk,v.Tg,v.Yt,M.JX,M.TM,I.Ye],encapsulation:2})}return n})();var D=i(5619),f=i(6306),y=i(2096),$=i(7398);let C=(()=>{class n{constructor(t){this.http=t,this.baseUrl=A.T.baseUrl,this.usersSubject=new D.X([]),this.users$=this.usersSubject.asObservable()}getUsers(){const t=`${this.baseUrl}/users`,o=localStorage.getItem("token"),r=(new m.WM).set("x-token",`${o}`);this.http.get(t,{headers:r}).subscribe(a=>{this.usersSubject.next(a)})}getUsersById(t){const o=`${this.baseUrl}/users/${t}`,r=localStorage.getItem("token"),a=(new m.WM).set("x-token",`${r}`);return this.http.get(o,{headers:a}).pipe((0,f.K)(c=>(0,y.of)(void 0)))}addUser(t){const o=`${this.baseUrl}/users`,r=localStorage.getItem("token"),a=(new m.WM).set("x-token",`${r}`);return this.http.post(o,t,{headers:a})}updateUser(t){const o=`${this.baseUrl}/users/${t._id}`,r=localStorage.getItem("token"),a=(new m.WM).set("x-token",`${r}`);if(!t._id)throw Error("User id is required");return this.http.patch(o,t,{headers:a})}deleteUserById(t){const o=`${this.baseUrl}/users/${t}`,r=localStorage.getItem("token"),a=(new m.WM).set("x-token",`${r}`);return this.http.delete(o,{headers:a}).pipe((0,f.K)(c=>(0,y.of)(!1)),(0,$.U)(c=>!0))}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(m.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z=i(6385),k=i(2939),d=i(5195),_=i(9157),O=i(2032);function B(n,l){if(1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.user.fullname)}}let F=(()=>{class n{constructor(t,o){this.userServices=t,this.snackbar=o,this.closeModal=new e.vpe,this.userForm=new s.cw({_id:new s.NI(""),fullname:new s.NI("",{nonNullable:!0}),email:new s.NI("",{nonNullable:!0}),password:new s.NI("",{nonNullable:!0}),comment:new s.NI("",{nonNullable:!0}),telefono:new s.NI("",{nonNullable:!0}),active:new s.NI(!0),type:new s.NI("USER")})}get currentUser(){return this.userForm.value}ngOnInit(){this.user&&this.userForm.reset(this.user)}onSubmit(){if(!this.userForm.invalid){if(this.currentUser._id)return void this.userServices.updateUser(this.currentUser).pipe((0,f.K)(t=>(this.onCloseModal(),this.showSnackBar(t.error.msg),[]))).subscribe(t=>{this.showSnackBar(`${t.fullname} update!`),this.onCloseModal()});this.userServices.addUser(this.currentUser).pipe((0,f.K)(t=>(this.onCloseModal(),this.showSnackBar(t.error.msg),[]))).subscribe(t=>{this.onCloseModal(),this.showSnackBar(`${t.fullname} created!`)})}}onCloseModal(){this.closeModal.emit()}showSnackBar(t){this.snackbar.open(t,"done",{duration:2500})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(C),e.Y36(k.ux))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-right-modal"]],inputs:{user:"user"},outputs:{closeModal:"closeModal"},decls:41,vars:3,consts:[[1,"modal-container"],[1,"modal-content"],[4,"ngIf"],[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-12"],[1,"grid",3,"formGroup","ngSubmit"],[1,"col-12"],["matInput","","type","text","required","","formControlName","fullname"],["matInput","","type","mail","required","","formControlName","email"],["matInput","","type","password","required","","formControlName","password"],["matInput","","type","string","required","","formControlName","telefono"],["matInput","","placeholder","Pegar aqui la URL","formControlName","comment","required",""],["href","https://www.amazon.com/ap/signin?ie=UTF8&clientContext=134-9172090-0857541&openid.pape.max_auth_age=0&use_global_authentication=false&accountStatusPolicy=P1&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&use_audio_captcha=false&language=en_US&pageId=amzn_device_na&arb=97b4a0fe-13b8-45fd-b405-ae94b0fec45b&openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fap%2Fmaplanding&openid.assoc_handle=amzn_device_na&openid.oa2.response_type=token&openid.mode=checkid_setup&openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&openid.ns.oa2=http%3A%2F%2Fwww.amazon.com%2Fap%2Fext%2Foauth%2F2&openid.oa2.scope=device_auth_access&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&disableLoginPrepopulate=0&openid.oa2.client_id=device%3A32663430323338643639356262653236326265346136356131376439616135392341314d50534c4643374c3541464b&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0","rel","noopener noreferrer","target","_blank"],["mat-flat-button","","color","warn",3,"click"],[1,"spacer"],["mat-flat-button","","color","primary",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3),e.YNc(4,B,2,1,"small",2),e.qZA(),e._UZ(5,"mat-divider",3),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-card")(9,"mat-card-content")(10,"form",6),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Full Name"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Email"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Contrase\xf1a"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Telefono"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Url de homologaci\xf3n"),e.qZA(),e._UZ(30,"textarea",12),e.qZA(),e.TgZ(31,"a",13),e._uU(32,"Para obtener la URL"),e.qZA()()(),e.TgZ(33,"mat-card-actions")(34,"button",14),e.NdJ("click",function(){return r.onCloseModal()}),e._uU(35,"BACK"),e.qZA(),e._UZ(36,"span",15),e.TgZ(37,"button",16),e.NdJ("click",function(){return r.onSubmit()}),e.TgZ(38,"mat-icon"),e._uU(39,"save"),e.qZA(),e._uU(40," SAVE "),e.qZA()()()()()()()),2&o&&(e.xp6(3),e.hij(" ",r.user?"Editar":"Agregar"," Usuario "),e.xp6(1),e.Q6J("ngIf",r.user),e.xp6(6),e.Q6J("formGroup",r.userForm))},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,h.lW,d.a8,d.hq,d.dn,_.KE,_.hX,b.Hw,O.Nt,Z.d],encapsulation:2})}return n})();function j(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-right-modal",4),e.NdJ("closeModal",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeModal())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("user",t.user)}}const E=function(n){return{color:n}};let R=(()=>{class n{constructor(t,o){this.userServices=t,this.snackbar=o,this.isModalOpen=!1,this.updateList=new e.vpe}ngOnInit(){if(!this.user)throw Error("User property is required")}handleChangeState(t){const o={...t,active:!t.active};this.userServices.updateUser(o).subscribe(r=>{this.showSnackBar(`${t.fullname} update!`),this.updateList.emit()})}handleEdit(t){this.isModalOpen=!0}handleDelete(t){this.userServices.deleteUserById(t._id).subscribe(o=>{this.showSnackBar(o?`User ${t.fullname} removed!`:"Error when trying to delete user!"),this.updateList.emit()})}closeModal(){this.isModalOpen=!1,this.updateList.emit()}showSnackBar(t){this.snackbar.open(t,"done",{duration:2500})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(C),e.Y36(k.ux))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["users-user-card"]],inputs:{user:"user"},outputs:{updateList:"updateList"},decls:24,vars:8,consts:[["align","end"],["mat-button","","mat-raised","",3,"click"],["mat-button","","mat-raised","",3,"ngStyle","click"],[3,"user","closeModal",4,"ngIf"],[3,"user","closeModal"]],template:function(o,r){1&o&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle")(5,"b"),e._uU(6,"Email:"),e.qZA(),e._uU(7),e._UZ(8,"br"),e.TgZ(9,"b"),e._uU(10,"Telefono:"),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"mat-card-actions",0)(13,"button",1),e.NdJ("click",function(){return r.handleEdit(r.user)}),e.TgZ(14,"mat-icon"),e._uU(15,"edit"),e.qZA(),e._uU(16,"Editar "),e.qZA(),e.TgZ(17,"button",2),e.NdJ("click",function(){return r.handleChangeState(r.user)}),e._uU(18),e.qZA(),e.TgZ(19,"button",1),e.NdJ("click",function(){return r.handleDelete(r.user)}),e.TgZ(20,"mat-icon"),e._uU(21,"delete"),e.qZA(),e._uU(22,"Delete "),e.qZA()()(),e.YNc(23,j,1,1,"app-right-modal",3)),2&o&&(e.xp6(3),e.hij(" ",r.user.fullname," "),e.xp6(4),e.hij(" ",r.user.email,""),e.xp6(4),e.hij(" ",r.user.telefono,""),e.xp6(6),e.Q6J("ngStyle",e.VKq(6,E,r.user.active?"green":"red")),e.xp6(1),e.hij(" ",r.user.active?"Disabled":"Enabled"," "),e.xp6(5),e.Q6J("ngIf",r.isModalOpen))},dependencies:[u.O5,u.PC,h.lW,d.a8,d.hq,d.dk,d.$j,d.n5,b.Hw,F],encapsulation:2})}return n})();function H(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"users-user-card",7),e.NdJ("updateList",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.getUsers())}),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(1),e.Q6J("user",t)}}function Y(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-right-modal",8),e.NdJ("closeModal",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeModal())}),e.qZA()}}let Q=(()=>{class n{constructor(t){this.userServices=t,this.isModalOpen=!1,this.users=[]}ngOnInit(){this.getUsers(),this.usersSubscription=this.userServices.users$.subscribe(t=>{this.users=t})}handleAdd(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.getUsers()}getUsers(){this.userServices.getUsers()}ngOnDestroy(){this.usersSubscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(C))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-page"]],decls:10,vars:2,consts:[[1,"container","flex"],[1,"spacer"],["mat-button","","mat-raised","",3,"click"],[1,"grid","mb-8","pt-2"],["class","col-12 sm:col-12 md:col-12 xl:col-12",4,"ngFor","ngForOf"],[3,"closeModal",4,"ngIf"],[1,"col-12","sm:col-12","md:col-12","xl:col-12"],[3,"user","updateList"],[3,"closeModal"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"User list"),e.qZA(),e._UZ(3,"span",1),e.TgZ(4,"button",2),e.NdJ("click",function(){return r.handleAdd()}),e._uU(5,"add"),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"div",3),e.YNc(8,H,2,1,"div",4),e.qZA(),e.YNc(9,Y,1,0,"app-right-modal",5)),2&o&&(e.xp6(8),e.Q6J("ngForOf",r.users),e.xp6(1),e.Q6J("ngIf",r.isModalOpen))},dependencies:[u.sg,u.O5,h.lW,Z.d,R,F],encapsulation:2})}return n})();var N=function(n){return n.HOURS="HOURS",n.BLOCK="BLOCK",n}(N||{}),W=i(6321),z=i(4825),X=i(4664),V=i(3680),ee=i(8525),S=i(8034);let te=(()=>{class n{transform(t){const o=new Date(t);return`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275pipe=e.Yjl({name:"time",type:n,pure:!0})}return n})(),ne=(()=>{class n{transform(t,o){const r=new Date(t),c=(new Date(o).getTime()-r.getTime())/6e4;return`${Math.floor(c/60)}h ${c%60}min`}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275pipe=e.Yjl({name:"timeDifference",type:n,pure:!0})}return n})(),oe=(()=>{class n{transform(t){const r=new Date(t);return`${["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][r.getDay()]}, ${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}`}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275pipe=e.Yjl({name:"customDate",type:n,pure:!0})}return n})();function re(n,l){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.desc," ")}}function ae(n,l){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t.serviceAreaId),e.xp6(1),e.hij(" ",t.serviceAreaName," ")}}function se(n,l){if(1&n&&(e.TgZ(0,"tr",26)(1,"td"),e._uU(2),e.ALo(3,"time"),e.ALo(4,"time"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"timeDifference"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"customDate"),e.qZA(),e.TgZ(13,"td")(14,"span",27),e._uU(15),e.qZA()()()),2&n){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.AsE("",e.lcZ(3,7,t.startTime)," - ",e.lcZ(4,9,t.endTime),""),e.xp6(4),e.Oqu(e.xi3(7,11,t.startTime,t.endTime)),e.xp6(3),e.hij("",t.blockRate," $"),e.xp6(2),e.Oqu(e.lcZ(12,14,t.startTime)),e.xp6(3),e.Q6J("ngStyle",o.getStatusStyle(t)),e.xp6(1),e.hij(" ",t.status," ")}}function ie(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"table",24)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"schedule"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"block hour"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"block price"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"date"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"action"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,se,16,16,"tr",25),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.ofertas)}}function le(n,l){1&n&&(e.TgZ(0,"p"),e._uU(1,"There are no offers available at this time."),e.qZA())}const ce=[{path:"",component:J,children:[{path:"admin",component:Q},{path:"controller",component:(()=>{class n{constructor(t,o){this.flexServices=t,this.snackbar=o,this.ofertas=[],this.serviceCalled=!1,this.filterForm=new s.cw({minHourPrice:new s.NI(0),baseOn:new s.NI(N.HOURS),startDate:new s.NI(new Date),fromTime:new s.NI(""),maxHoursBlock:new s.NI(0),delay:new s.NI(0),startRunningAt:new s.NI(""),depositos:new s.NI([])}),this.warehouses=[],this.baseOn=[{id:"HOURS",desc:"Hour"},{id:"BLOCK",desc:"Block"}]}get currentFilter(){return this.filterForm.value}ngOnInit(){this.getService(),"true"===localStorage.getItem("serviceCalled")&&(this.serviceCalled=!0,this.getOffersList())}getService(){this.flexServices.getServiceAll().pipe((0,f.K)(t=>[])).subscribe(t=>this.warehouses=t)}showSnackBar(t){this.snackbar.open(t,"done",{duration:15e3})}getStatusStyle(t){return"accepted"===t.status?{color:"#28a745",padding:"5px 10px","border-radius":"5px"}:"refused"===t.status?{color:"#dc3545",padding:"5px 10px","border-radius":"5px"}:{padding:"5px 10px","border-radius":"5px"}}onSubmit(){this.flexServices.getOffersWithFilters(this.currentFilter).subscribe(t=>{this.showSnackBar(t.msj),this.serviceCalled=!0,localStorage.setItem("serviceCalled","true"),this.getOffersList()},t=>{this.showSnackBar(t.error.msj)})}getOffersList(){this.subscription=function G(n=0,l=W.z){return n<0&&(n=0),(0,z.H)(n,n,l)}(4e3).pipe((0,X.w)(()=>this.flexServices.getOffersList())).subscribe(t=>{this.ofertas=t},t=>{this.showSnackBar(t.error.msj)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}resetForm(){this.flexServices.getStopSearchOffers().subscribe(t=>{this.showSnackBar(t.msj),localStorage.removeItem("serviceCalled"),this.ngOnDestroy()},t=>{this.showSnackBar(t.error.msj),localStorage.removeItem("serviceCalled")})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(U),e.Y36(k.ux))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-controller-page"]],decls:58,vars:8,consts:[[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-12"],[1,"grid",3,"formGroup","ngSubmit"],[1,"col-6"],["matInput","","type","text","required","","formControlName","minHourPrice"],["formControlName","baseOn"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","time","required","","formControlName","fromTime"],["matInput","","type","string","required","","formControlName","maxHoursBlock"],["matInput","","type","string","required","","formControlName","delay"],["matInput","","type","time","required","","formControlName","startRunningAt"],["formControlName","depositos","multiple",""],["mat-flat-button","","color","warn",3,"click"],[1,"spacer"],["mat-flat-button","","color","primary",3,"click"],[2,"overflow-x","auto"],[4,"ngIf","ngIfElse"],["emptyState",""],[3,"value"],[2,"width","100%","table-layout","fixed"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"ngStyle"]],template:function(o,r){if(1&o&&(e._UZ(0,"mat-divider",0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-content")(5,"form",3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(6,"mat-form-field",4)(7,"mat-label"),e._uU(8,"Min hour price"),e.qZA(),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"mat-form-field",4)(11,"mat-label"),e._uU(12,"Base on"),e.qZA(),e.TgZ(13,"mat-select",6),e.YNc(14,re,2,2,"mat-option",7),e.qZA()(),e.TgZ(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"Start date"),e.qZA(),e._UZ(18,"input",9)(19,"mat-datepicker-toggle",10)(20,"mat-datepicker",null,11),e.qZA(),e.TgZ(22,"mat-form-field",4)(23,"mat-label"),e._uU(24,"From time"),e.qZA(),e._UZ(25,"input",12),e.qZA(),e.TgZ(26,"mat-form-field",4)(27,"mat-label"),e._uU(28,"Max hours block"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"mat-form-field",4)(31,"mat-label"),e._uU(32,"Delay (Min)"),e.qZA(),e._UZ(33,"input",14),e.qZA(),e.TgZ(34,"mat-form-field",4)(35,"mat-label"),e._uU(36,"Start running at"),e.qZA(),e._UZ(37,"input",15),e.qZA(),e.TgZ(38,"mat-form-field",8)(39,"mat-label"),e._uU(40,"Deposits:"),e.qZA(),e.TgZ(41,"mat-select",16),e.YNc(42,ae,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(43,"mat-card-actions")(44,"button",17),e.NdJ("click",function(){return r.resetForm()}),e._uU(45,"CANCEL"),e.qZA(),e._UZ(46,"span",18),e.TgZ(47,"button",19),e.NdJ("click",function(){return r.onSubmit()}),e.TgZ(48,"mat-icon"),e._uU(49,"save"),e.qZA(),e._uU(50," START "),e.qZA()()()(),e.TgZ(51,"div",2)(52,"mat-card")(53,"mat-card-content")(54,"div",20),e.YNc(55,ie,16,1,"ng-container",21),e.YNc(56,le,2,0,"ng-template",null,22,e.W1O),e.qZA()()()()()),2&o){const a=e.MAs(21),c=e.MAs(57);e.xp6(5),e.Q6J("formGroup",r.filterForm),e.xp6(9),e.Q6J("ngForOf",r.baseOn),e.xp6(4),e.Q6J("matDatepicker",a)("formControlName","startDate"),e.xp6(1),e.Q6J("for",a),e.xp6(23),e.Q6J("ngForOf",r.warehouses),e.xp6(13),e.Q6J("ngIf",r.ofertas.length>0)("ngIfElse",c)}},dependencies:[u.sg,u.O5,u.PC,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,V.ey,h.lW,d.a8,d.hq,d.dn,_.KE,_.hX,_.R9,b.Hw,O.Nt,Z.d,ee.gD,S.Mq,S.hl,S.nW,te,ne,oe],encapsulation:2})}return n})()},{path:"**",redirectTo:"controller"}]}];let ue=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(ce),g.Bz]})}return n})();var me=i(2088),de=i(6208);const he=new e.OlP("ngx-skeleton-loader.config");let fe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:he,useValue:t}]}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.ez]})}return n})(),_e=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.ez,s.UX,ue,me.q,fe,de.m]})}return n})()}}]);